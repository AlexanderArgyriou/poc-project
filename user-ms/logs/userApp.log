2023-05-12 00:20:45,414 INFO com.poc.user.UserApplicationIntegrationTest [main] Starting UserApplicationIntegrationTest using Java 11.0.18 on ubuntu2004 with PID 188116 (started by ubuntu in /home/ubuntu/Desktop/poc-project/user-ms)
2023-05-12 00:20:45,428 DEBUG com.poc.user.UserApplicationIntegrationTest [main] Running with Spring Boot v2.7.6, Spring v5.3.24
2023-05-12 00:20:45,430 INFO com.poc.user.UserApplicationIntegrationTest [main] No active profile set, falling back to 1 default profile: "default"
2023-05-12 00:20:46,035 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2023-05-12 00:20:46,485 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 443 ms. Found 1 Reactive MongoDB repository interfaces.
2023-05-12 00:20:48,967 INFO org.mongodb.driver.client [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|reactive-streams|spring-boot", "version": "4.6.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "5.15.0-71-generic"}, "platform": "Java/Ubuntu/11.0.18+10-post-Ubuntu-0ubuntu122.04"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=NettyStreamFactoryFactory{eventLoopGroup=io.netty.channel.nio.NioEventLoopGroup@2b7774d5, socketChannelClass=class io.netty.channel.socket.nio.NioSocketChannel, allocator=PooledByteBufAllocator(directByDefault: true), sslContext=null}, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@7d284f15]}, clusterSettings={hosts=[localhost:49154], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-05-12 00:20:49,456 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='645d5c3069a09339535aac4b', description='null'}-localhost:49154] Opened connection [connectionId{localValue:1, serverValue:3}] to localhost:49154
2023-05-12 00:20:49,473 INFO org.mongodb.driver.connection [cluster-ClusterId{value='645d5c3069a09339535aac4b', description='null'}-localhost:49154] Opened connection [connectionId{localValue:2, serverValue:4}] to localhost:49154
2023-05-12 00:20:49,504 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d5c3069a09339535aac4b', description='null'}-localhost:49154] Monitor thread successfully connected to server with description ServerDescription{address=localhost:49154, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=180930850, setName='docker-rs', canonicalAddress=75b7ee71e9be:27017, hosts=[75b7ee71e9be:27017], passives=[], arbiters=[], primary='75b7ee71e9be:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000001, setVersion=1, topologyVersion=TopologyVersion{processId=645d5c2a9800338754a36259, counter=6}, lastWriteDate=Fri May 12 00:20:44 EEST 2023, lastUpdateTimeNanos=9452977010484}
2023-05-12 00:20:52,299 INFO org.springframework.boot.web.embedded.netty.NettyWebServer [main] Netty started on port 34753
2023-05-12 00:20:52,314 INFO com.poc.user.UserApplicationIntegrationTest [main] Started UserApplicationIntegrationTest in 7.836 seconds (JVM running for 14.91)
2023-05-12 00:20:52,876 INFO org.mongodb.driver.connection [nioEventLoopGroup-3-3] Opened connection [connectionId{localValue:3, serverValue:5}] to localhost:49154
2023-05-12 00:20:53,520 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Started method: com.poc.user.dao.impl.UserDAOImpl.save() with argument[s] = [UserInfo(username=testUser, email=test@test.com, firstname=testName, lastname=testLastName)]
2023-05-12 00:20:53,570 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Ended method: com.poc.user.dao.impl.UserDAOImpl.save() with result = MonoMap
2023-05-12 00:20:53,688 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d5c3069a09339535aac4b', description='null'}-localhost:49154] Exception in monitor thread while connecting to server localhost:49154
com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:702)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: The connection to the server was closed
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:511)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:508)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.closeOnRead(AbstractNioByteChannel.java:105)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-12 00:20:53,730 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d5c3069a09339535aac4b', description='null'}-localhost:49154] Exception in monitor thread while connecting to server localhost:49154
com.mongodb.MongoSocketWriteException: Exception sending message
	at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)
	at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: io.netty.channel.StacklessClosedChannelException: null
	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)
2023-05-12 01:22:30,564 INFO com.poc.user.UserApplicationIntegrationTest [main] Starting UserApplicationIntegrationTest using Java 11.0.18 on ubuntu2004 with PID 270200 (started by ubuntu in /home/ubuntu/Desktop/poc-project/user-ms)
2023-05-12 01:22:30,566 DEBUG com.poc.user.UserApplicationIntegrationTest [main] Running with Spring Boot v2.7.6, Spring v5.3.24
2023-05-12 01:22:30,567 INFO com.poc.user.UserApplicationIntegrationTest [main] No active profile set, falling back to 1 default profile: "default"
2023-05-12 01:22:31,151 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2023-05-12 01:22:31,365 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 209 ms. Found 1 Reactive MongoDB repository interfaces.
2023-05-12 01:22:32,449 INFO org.mongodb.driver.client [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|reactive-streams|spring-boot", "version": "4.6.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "5.15.0-71-generic"}, "platform": "Java/Ubuntu/11.0.18+10-post-Ubuntu-0ubuntu122.04"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=NettyStreamFactoryFactory{eventLoopGroup=io.netty.channel.nio.NioEventLoopGroup@467ef400, socketChannelClass=class io.netty.channel.socket.nio.NioSocketChannel, allocator=PooledByteBufAllocator(directByDefault: true), sslContext=null}, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@13fe5bb7]}, clusterSettings={hosts=[localhost:49158], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-05-12 01:22:32,634 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='645d6aa84a3e6b176b10f21c', description='null'}-localhost:49158] Opened connection [connectionId{localValue:1, serverValue:3}] to localhost:49158
2023-05-12 01:22:32,641 INFO org.mongodb.driver.connection [cluster-ClusterId{value='645d6aa84a3e6b176b10f21c', description='null'}-localhost:49158] Opened connection [connectionId{localValue:2, serverValue:4}] to localhost:49158
2023-05-12 01:22:32,645 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d6aa84a3e6b176b10f21c', description='null'}-localhost:49158] Monitor thread successfully connected to server with description ServerDescription{address=localhost:49158, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=80870527, setName='docker-rs', canonicalAddress=1099dea1453c:27017, hosts=[1099dea1453c:27017], passives=[], arbiters=[], primary='1099dea1453c:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000001, setVersion=1, topologyVersion=TopologyVersion{processId=645d6aa500347feb93fc3619, counter=6}, lastWriteDate=Fri May 12 01:22:29 EEST 2023, lastUpdateTimeNanos=13156167370642}
2023-05-12 01:22:34,790 INFO org.springframework.boot.web.embedded.netty.NettyWebServer [main] Netty started on port 36769
2023-05-12 01:22:34,801 INFO com.poc.user.UserApplicationIntegrationTest [main] Started UserApplicationIntegrationTest in 4.615 seconds (JVM running for 9.11)
2023-05-12 01:22:35,330 INFO org.mongodb.driver.connection [nioEventLoopGroup-3-3] Opened connection [connectionId{localValue:3, serverValue:5}] to localhost:49158
2023-05-12 01:22:35,972 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Started method: com.poc.user.dao.impl.UserDAOImpl.save() with argument[s] = [UserInfo(username=testUser, email=test@test.com, firstname=testName, lastname=testLastName)]
2023-05-12 01:22:36,017 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Ended method: com.poc.user.dao.impl.UserDAOImpl.save() with result = MonoMap
2023-05-12 01:22:36,138 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d6aa84a3e6b176b10f21c', description='null'}-localhost:49158] Exception in monitor thread while connecting to server localhost:49158
com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:702)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: The connection to the server was closed
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:511)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:508)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.closeOnRead(AbstractNioByteChannel.java:105)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-12 01:22:36,160 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d6aa84a3e6b176b10f21c', description='null'}-localhost:49158] Exception in monitor thread while connecting to server localhost:49158
com.mongodb.MongoSocketWriteException: Exception sending message
	at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)
	at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: io.netty.channel.StacklessClosedChannelException: null
	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)
2023-05-12 01:35:29,659 INFO com.poc.user.UserApplicationIntegrationTest [main] Starting UserApplicationIntegrationTest using Java 11.0.18 on ubuntu2004 with PID 289170 (started by ubuntu in /home/ubuntu/Desktop/poc-project/user-ms)
2023-05-12 01:35:29,661 DEBUG com.poc.user.UserApplicationIntegrationTest [main] Running with Spring Boot v2.7.6, Spring v5.3.24
2023-05-12 01:35:29,662 INFO com.poc.user.UserApplicationIntegrationTest [main] No active profile set, falling back to 1 default profile: "default"
2023-05-12 01:35:30,197 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2023-05-12 01:35:30,394 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 192 ms. Found 1 Reactive MongoDB repository interfaces.
2023-05-12 01:35:31,521 INFO org.mongodb.driver.client [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|reactive-streams|spring-boot", "version": "4.6.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "5.15.0-71-generic"}, "platform": "Java/Ubuntu/11.0.18+10-post-Ubuntu-0ubuntu122.04"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=NettyStreamFactoryFactory{eventLoopGroup=io.netty.channel.nio.NioEventLoopGroup@bd4ee01, socketChannelClass=class io.netty.channel.socket.nio.NioSocketChannel, allocator=PooledByteBufAllocator(directByDefault: true), sslContext=null}, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@7f93f4c]}, clusterSettings={hosts=[localhost:49161], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-05-12 01:35:31,691 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='645d6db3f988156ee6a6ee9f', description='null'}-localhost:49161] Opened connection [connectionId{localValue:2, serverValue:3}] to localhost:49161
2023-05-12 01:35:31,691 INFO org.mongodb.driver.connection [cluster-ClusterId{value='645d6db3f988156ee6a6ee9f', description='null'}-localhost:49161] Opened connection [connectionId{localValue:1, serverValue:4}] to localhost:49161
2023-05-12 01:35:31,694 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d6db3f988156ee6a6ee9f', description='null'}-localhost:49161] Monitor thread successfully connected to server with description ServerDescription{address=localhost:49161, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=89108865, setName='docker-rs', canonicalAddress=1ac9aa528f93:27017, hosts=[1ac9aa528f93:27017], passives=[], arbiters=[], primary='1ac9aa528f93:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000001, setVersion=1, topologyVersion=TopologyVersion{processId=645d6db03cc52831005730e1, counter=6}, lastWriteDate=Fri May 12 01:35:29 EEST 2023, lastUpdateTimeNanos=13935223724820}
2023-05-12 01:35:33,716 INFO org.springframework.boot.web.embedded.netty.NettyWebServer [main] Netty started on port 45337
2023-05-12 01:35:33,729 INFO com.poc.user.UserApplicationIntegrationTest [main] Started UserApplicationIntegrationTest in 4.432 seconds (JVM running for 8.974)
2023-05-12 01:35:34,245 INFO org.mongodb.driver.connection [nioEventLoopGroup-3-3] Opened connection [connectionId{localValue:3, serverValue:5}] to localhost:49161
2023-05-12 01:35:34,849 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Started method: com.poc.user.dao.impl.UserDAOImpl.save() with argument[s] = [UserInfo(username=testUser, email=test@test.com, firstname=testName, lastname=testLastName)]
2023-05-12 01:35:34,893 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Ended method: com.poc.user.dao.impl.UserDAOImpl.save() with result = MonoMap
2023-05-12 01:35:35,022 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d6db3f988156ee6a6ee9f', description='null'}-localhost:49161] Exception in monitor thread while connecting to server localhost:49161
com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:702)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: The connection to the server was closed
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:511)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:508)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.closeOnRead(AbstractNioByteChannel.java:105)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-12 01:35:35,045 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d6db3f988156ee6a6ee9f', description='null'}-localhost:49161] Exception in monitor thread while connecting to server localhost:49161
com.mongodb.MongoSocketWriteException: Exception sending message
	at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)
	at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: io.netty.channel.StacklessClosedChannelException: null
	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)
2023-05-12 01:52:01,549 INFO com.poc.user.UserApplicationIntegrationTest [main] Starting UserApplicationIntegrationTest using Java 11.0.18 on ubuntu2004 with PID 311102 (started by ubuntu in /home/ubuntu/Desktop/poc-project/user-ms)
2023-05-12 01:52:01,551 DEBUG com.poc.user.UserApplicationIntegrationTest [main] Running with Spring Boot v2.7.6, Spring v5.3.24
2023-05-12 01:52:01,551 INFO com.poc.user.UserApplicationIntegrationTest [main] No active profile set, falling back to 1 default profile: "default"
2023-05-12 01:52:02,130 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2023-05-12 01:52:02,370 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 235 ms. Found 1 Reactive MongoDB repository interfaces.
2023-05-12 01:52:03,723 INFO org.mongodb.driver.client [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|reactive-streams|spring-boot", "version": "4.6.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "5.15.0-71-generic"}, "platform": "Java/Ubuntu/11.0.18+10-post-Ubuntu-0ubuntu122.04"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=NettyStreamFactoryFactory{eventLoopGroup=io.netty.channel.nio.NioEventLoopGroup@467ef400, socketChannelClass=class io.netty.channel.socket.nio.NioSocketChannel, allocator=PooledByteBufAllocator(directByDefault: true), sslContext=null}, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@13fe5bb7]}, clusterSettings={hosts=[localhost:49164], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-05-12 01:52:03,875 INFO org.mongodb.driver.connection [cluster-ClusterId{value='645d71932f6a951ad6f05c18', description='null'}-localhost:49164] Opened connection [connectionId{localValue:2, serverValue:3}] to localhost:49164
2023-05-12 01:52:03,875 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='645d71932f6a951ad6f05c18', description='null'}-localhost:49164] Opened connection [connectionId{localValue:1, serverValue:4}] to localhost:49164
2023-05-12 01:52:03,883 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d71932f6a951ad6f05c18', description='null'}-localhost:49164] Monitor thread successfully connected to server with description ServerDescription{address=localhost:49164, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=80635735, setName='docker-rs', canonicalAddress=fab5ef11575f:27017, hosts=[fab5ef11575f:27017], passives=[], arbiters=[], primary='fab5ef11575f:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000001, setVersion=1, topologyVersion=TopologyVersion{processId=645d718fdaa9ad135d27ed21, counter=6}, lastWriteDate=Fri May 12 01:52:00 EEST 2023, lastUpdateTimeNanos=14927407325028}
2023-05-12 01:52:06,049 INFO org.springframework.boot.web.embedded.netty.NettyWebServer [main] Netty started on port 39745
2023-05-12 01:52:06,065 INFO com.poc.user.UserApplicationIntegrationTest [main] Started UserApplicationIntegrationTest in 4.933 seconds (JVM running for 10.676)
2023-05-12 01:52:06,680 INFO org.mongodb.driver.connection [nioEventLoopGroup-3-3] Opened connection [connectionId{localValue:3, serverValue:5}] to localhost:49164
2023-05-12 01:52:07,301 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Started method: com.poc.user.dao.impl.UserDAOImpl.save() with argument[s] = [UserInfo(username=testUser, email=test@test.com, firstname=testName, lastname=testLastName)]
2023-05-12 01:52:07,339 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Ended method: com.poc.user.dao.impl.UserDAOImpl.save() with result = MonoMap
2023-05-12 01:52:07,458 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d71932f6a951ad6f05c18', description='null'}-localhost:49164] Exception in monitor thread while connecting to server localhost:49164
com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:702)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: The connection to the server was closed
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:511)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:508)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.closeOnRead(AbstractNioByteChannel.java:105)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-12 01:52:07,484 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d71932f6a951ad6f05c18', description='null'}-localhost:49164] Exception in monitor thread while connecting to server localhost:49164
com.mongodb.MongoSocketWriteException: Exception sending message
	at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)
	at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: io.netty.channel.StacklessClosedChannelException: null
	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)
2023-05-12 02:18:45,919 INFO com.poc.user.UserApplicationIntegrationTest [main] Starting UserApplicationIntegrationTest using Java 11.0.18 on ubuntu2004 with PID 345386 (started by ubuntu in /home/ubuntu/Desktop/poc-project/user-ms)
2023-05-12 02:18:45,920 DEBUG com.poc.user.UserApplicationIntegrationTest [main] Running with Spring Boot v2.7.6, Spring v5.3.24
2023-05-12 02:18:45,921 INFO com.poc.user.UserApplicationIntegrationTest [main] No active profile set, falling back to 1 default profile: "default"
2023-05-12 02:18:46,486 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2023-05-12 02:18:46,711 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 218 ms. Found 1 Reactive MongoDB repository interfaces.
2023-05-12 02:18:47,831 INFO org.mongodb.driver.client [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|reactive-streams|spring-boot", "version": "4.6.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "5.15.0-71-generic"}, "platform": "Java/Ubuntu/11.0.18+10-post-Ubuntu-0ubuntu122.04"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=NettyStreamFactoryFactory{eventLoopGroup=io.netty.channel.nio.NioEventLoopGroup@51f01535, socketChannelClass=class io.netty.channel.socket.nio.NioSocketChannel, allocator=PooledByteBufAllocator(directByDefault: true), sslContext=null}, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@2321e482]}, clusterSettings={hosts=[localhost:49166], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-05-12 02:18:47,962 INFO org.mongodb.driver.connection [cluster-ClusterId{value='645d77d7a1b9b52a81478f71', description='null'}-localhost:49166] Opened connection [connectionId{localValue:2, serverValue:3}] to localhost:49166
2023-05-12 02:18:47,967 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d77d7a1b9b52a81478f71', description='null'}-localhost:49166] Monitor thread successfully connected to server with description ServerDescription{address=localhost:49166, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69194222, setName='docker-rs', canonicalAddress=6035d8ab8416:27017, hosts=[6035d8ab8416:27017], passives=[], arbiters=[], primary='6035d8ab8416:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000001, setVersion=1, topologyVersion=TopologyVersion{processId=645d77d43f301a53a67dd765, counter=6}, lastWriteDate=Fri May 12 02:18:45 EEST 2023, lastUpdateTimeNanos=16531494693132}
2023-05-12 02:18:47,972 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='645d77d7a1b9b52a81478f71', description='null'}-localhost:49166] Opened connection [connectionId{localValue:1, serverValue:4}] to localhost:49166
2023-05-12 02:18:49,987 INFO org.springframework.boot.web.embedded.netty.NettyWebServer [main] Netty started on port 34039
2023-05-12 02:18:50,003 INFO com.poc.user.UserApplicationIntegrationTest [main] Started UserApplicationIntegrationTest in 4.466 seconds (JVM running for 9.071)
2023-05-12 02:18:50,532 INFO org.mongodb.driver.connection [nioEventLoopGroup-3-3] Opened connection [connectionId{localValue:3, serverValue:5}] to localhost:49166
2023-05-12 02:18:51,190 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Started method: com.poc.user.dao.impl.UserDAOImpl.save() with argument[s] = [UserInfo(username=testUser, email=test@test.com, firstname=testName, lastname=testLastName)]
2023-05-12 02:18:51,259 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Ended method: com.poc.user.dao.impl.UserDAOImpl.save() with result = MonoMap
2023-05-12 02:18:51,385 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d77d7a1b9b52a81478f71', description='null'}-localhost:49166] Exception in monitor thread while connecting to server localhost:49166
com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:702)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: The connection to the server was closed
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:511)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:508)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.closeOnRead(AbstractNioByteChannel.java:105)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-12 02:18:51,400 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d77d7a1b9b52a81478f71', description='null'}-localhost:49166] Exception in monitor thread while connecting to server localhost:49166
com.mongodb.MongoSocketWriteException: Exception sending message
	at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)
	at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: io.netty.channel.StacklessClosedChannelException: null
	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)
2023-05-12 02:21:58,549 INFO com.poc.user.UserApplicationIntegrationTest [main] Starting UserApplicationIntegrationTest using Java 11.0.18 on ubuntu2004 with PID 350080 (started by ubuntu in /home/ubuntu/Desktop/poc-project/user-ms)
2023-05-12 02:21:58,550 DEBUG com.poc.user.UserApplicationIntegrationTest [main] Running with Spring Boot v2.7.6, Spring v5.3.24
2023-05-12 02:21:58,551 INFO com.poc.user.UserApplicationIntegrationTest [main] No active profile set, falling back to 1 default profile: "default"
2023-05-12 02:21:59,062 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2023-05-12 02:21:59,292 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 225 ms. Found 1 Reactive MongoDB repository interfaces.
2023-05-12 02:22:00,384 INFO org.mongodb.driver.client [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|reactive-streams|spring-boot", "version": "4.6.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "5.15.0-71-generic"}, "platform": "Java/Ubuntu/11.0.18+10-post-Ubuntu-0ubuntu122.04"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=NettyStreamFactoryFactory{eventLoopGroup=io.netty.channel.nio.NioEventLoopGroup@7f93f4c, socketChannelClass=class io.netty.channel.socket.nio.NioSocketChannel, allocator=PooledByteBufAllocator(directByDefault: true), sslContext=null}, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@598657cd]}, clusterSettings={hosts=[localhost:49168], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-05-12 02:22:00,520 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='645d7898d1b86a00be2453fd', description='null'}-localhost:49168] Opened connection [connectionId{localValue:1, serverValue:4}] to localhost:49168
2023-05-12 02:22:00,520 INFO org.mongodb.driver.connection [cluster-ClusterId{value='645d7898d1b86a00be2453fd', description='null'}-localhost:49168] Opened connection [connectionId{localValue:2, serverValue:3}] to localhost:49168
2023-05-12 02:22:00,524 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7898d1b86a00be2453fd', description='null'}-localhost:49168] Monitor thread successfully connected to server with description ServerDescription{address=localhost:49168, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=62597402, setName='docker-rs', canonicalAddress=a2437830f92c:27017, hosts=[a2437830f92c:27017], passives=[], arbiters=[], primary='a2437830f92c:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000001, setVersion=1, topologyVersion=TopologyVersion{processId=645d7895f7c562eba13ffe6d, counter=6}, lastWriteDate=Fri May 12 02:21:58 EEST 2023, lastUpdateTimeNanos=16724052117018}
2023-05-12 02:22:02,749 INFO org.springframework.boot.web.embedded.netty.NettyWebServer [main] Netty started on port 36495
2023-05-12 02:22:02,760 INFO com.poc.user.UserApplicationIntegrationTest [main] Started UserApplicationIntegrationTest in 4.566 seconds (JVM running for 9.004)
2023-05-12 02:22:03,312 INFO org.mongodb.driver.connection [nioEventLoopGroup-3-3] Opened connection [connectionId{localValue:3, serverValue:5}] to localhost:49168
2023-05-12 02:22:04,047 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Started method: com.poc.user.dao.impl.UserDAOImpl.save() with argument[s] = [UserInfo(username=testUser, email=test@test.com, firstname=testName, lastname=testLastName)]
2023-05-12 02:22:04,087 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Ended method: com.poc.user.dao.impl.UserDAOImpl.save() with result = MonoMap
2023-05-12 02:22:04,208 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7898d1b86a00be2453fd', description='null'}-localhost:49168] Exception in monitor thread while connecting to server localhost:49168
com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:702)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: The connection to the server was closed
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:511)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:508)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.closeOnRead(AbstractNioByteChannel.java:105)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-12 02:22:04,235 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7898d1b86a00be2453fd', description='null'}-localhost:49168] Exception in monitor thread while connecting to server localhost:49168
com.mongodb.MongoSocketWriteException: Exception sending message
	at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)
	at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: io.netty.channel.StacklessClosedChannelException: null
	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)
2023-05-12 02:30:27,440 INFO com.poc.user.UserApplicationIntegrationTest [main] Starting UserApplicationIntegrationTest using Java 11.0.18 on ubuntu2004 with PID 360804 (started by ubuntu in /home/ubuntu/Desktop/poc-project/user-ms)
2023-05-12 02:30:27,441 DEBUG com.poc.user.UserApplicationIntegrationTest [main] Running with Spring Boot v2.7.6, Spring v5.3.24
2023-05-12 02:30:27,442 INFO com.poc.user.UserApplicationIntegrationTest [main] No active profile set, falling back to 1 default profile: "default"
2023-05-12 02:30:28,090 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2023-05-12 02:30:28,298 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 196 ms. Found 1 Reactive MongoDB repository interfaces.
2023-05-12 02:30:29,981 INFO org.mongodb.driver.client [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|reactive-streams|spring-boot", "version": "4.6.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "5.15.0-71-generic"}, "platform": "Java/Ubuntu/11.0.18+10-post-Ubuntu-0ubuntu122.04"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=NettyStreamFactoryFactory{eventLoopGroup=io.netty.channel.nio.NioEventLoopGroup@44bbb7c6, socketChannelClass=class io.netty.channel.socket.nio.NioSocketChannel, allocator=PooledByteBufAllocator(directByDefault: true), sslContext=null}, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@2342f1ff]}, clusterSettings={hosts=[localhost:49170], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-05-12 02:30:30,147 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='645d7a95c1ea7f4c84dac688', description='null'}-localhost:49170] Opened connection [connectionId{localValue:2, serverValue:4}] to localhost:49170
2023-05-12 02:30:30,154 INFO org.mongodb.driver.connection [cluster-ClusterId{value='645d7a95c1ea7f4c84dac688', description='null'}-localhost:49170] Opened connection [connectionId{localValue:1, serverValue:3}] to localhost:49170
2023-05-12 02:30:30,155 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7a95c1ea7f4c84dac688', description='null'}-localhost:49170] Monitor thread successfully connected to server with description ServerDescription{address=localhost:49170, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=94350005, setName='docker-rs', canonicalAddress=a8c48b1297f3:27017, hosts=[a8c48b1297f3:27017], passives=[], arbiters=[], primary='a8c48b1297f3:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000001, setVersion=1, topologyVersion=TopologyVersion{processId=645d7a9126a0ad08f4792f4e, counter=6}, lastWriteDate=Fri May 12 02:30:26 EEST 2023, lastUpdateTimeNanos=17233686925465}
2023-05-12 02:30:32,360 INFO org.springframework.boot.web.embedded.netty.NettyWebServer [main] Netty started on port 34223
2023-05-12 02:30:32,375 INFO com.poc.user.UserApplicationIntegrationTest [main] Started UserApplicationIntegrationTest in 5.32 seconds (JVM running for 9.724)
2023-05-12 02:30:32,992 INFO org.mongodb.driver.connection [nioEventLoopGroup-3-3] Opened connection [connectionId{localValue:3, serverValue:5}] to localhost:49170
2023-05-12 02:30:33,709 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Started method: com.poc.user.dao.impl.UserDAOImpl.save() with argument[s] = [UserInfo(username=testUser, email=test@test.com, firstname=testName, lastname=testLastName)]
2023-05-12 02:30:33,751 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Ended method: com.poc.user.dao.impl.UserDAOImpl.save() with result = MonoMap
2023-05-12 02:30:33,870 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7a95c1ea7f4c84dac688', description='null'}-localhost:49170] Exception in monitor thread while connecting to server localhost:49170
com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:702)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: The connection to the server was closed
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:511)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:508)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.closeOnRead(AbstractNioByteChannel.java:105)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-12 02:30:33,921 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7a95c1ea7f4c84dac688', description='null'}-localhost:49170] Exception in monitor thread while connecting to server localhost:49170
com.mongodb.MongoSocketWriteException: Exception sending message
	at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)
	at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: io.netty.channel.StacklessClosedChannelException: null
	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)
2023-05-12 02:35:40,525 INFO com.poc.user.UserApplicationIntegrationTest [main] Starting UserApplicationIntegrationTest using Java 11.0.18 on ubuntu2004 with PID 367632 (started by ubuntu in /home/ubuntu/Desktop/poc-project/user-ms)
2023-05-12 02:35:40,527 DEBUG com.poc.user.UserApplicationIntegrationTest [main] Running with Spring Boot v2.7.6, Spring v5.3.24
2023-05-12 02:35:40,528 INFO com.poc.user.UserApplicationIntegrationTest [main] No active profile set, falling back to 1 default profile: "default"
2023-05-12 02:35:41,292 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2023-05-12 02:35:41,546 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 245 ms. Found 1 Reactive MongoDB repository interfaces.
2023-05-12 02:35:43,155 INFO org.mongodb.driver.client [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|reactive-streams|spring-boot", "version": "4.6.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "5.15.0-71-generic"}, "platform": "Java/Ubuntu/11.0.18+10-post-Ubuntu-0ubuntu122.04"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=NettyStreamFactoryFactory{eventLoopGroup=io.netty.channel.nio.NioEventLoopGroup@7845b21a, socketChannelClass=class io.netty.channel.socket.nio.NioSocketChannel, allocator=PooledByteBufAllocator(directByDefault: true), sslContext=null}, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@51f01535]}, clusterSettings={hosts=[localhost:49172], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-05-12 02:35:43,313 INFO org.mongodb.driver.connection [cluster-ClusterId{value='645d7bcf85ba0f3c67740c4b', description='null'}-localhost:49172] Opened connection [connectionId{localValue:1, serverValue:3}] to localhost:49172
2023-05-12 02:35:43,313 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='645d7bcf85ba0f3c67740c4b', description='null'}-localhost:49172] Opened connection [connectionId{localValue:2, serverValue:4}] to localhost:49172
2023-05-12 02:35:43,318 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7bcf85ba0f3c67740c4b', description='null'}-localhost:49172] Monitor thread successfully connected to server with description ServerDescription{address=localhost:49172, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=78363044, setName='docker-rs', canonicalAddress=757814ced319:27017, hosts=[757814ced319:27017], passives=[], arbiters=[], primary='757814ced319:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000001, setVersion=1, topologyVersion=TopologyVersion{processId=645d7bcabb1d863400dbd2bb, counter=6}, lastWriteDate=Fri May 12 02:35:39 EEST 2023, lastUpdateTimeNanos=17546845712909}
2023-05-12 02:35:45,894 INFO org.springframework.boot.web.embedded.netty.NettyWebServer [main] Netty started on port 40941
2023-05-12 02:35:45,909 INFO com.poc.user.UserApplicationIntegrationTest [main] Started UserApplicationIntegrationTest in 5.906 seconds (JVM running for 11.085)
2023-05-12 02:35:46,627 INFO org.mongodb.driver.connection [nioEventLoopGroup-3-3] Opened connection [connectionId{localValue:3, serverValue:5}] to localhost:49172
2023-05-12 02:35:47,490 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Started method: com.poc.user.dao.impl.UserDAOImpl.save() with argument[s] = [UserInfo(username=testUser, email=test@test.com, firstname=testName, lastname=testLastName)]
2023-05-12 02:35:47,543 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Ended method: com.poc.user.dao.impl.UserDAOImpl.save() with result = MonoMap
2023-05-12 02:35:47,698 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7bcf85ba0f3c67740c4b', description='null'}-localhost:49172] Exception in monitor thread while connecting to server localhost:49172
com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:702)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: The connection to the server was closed
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:511)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:508)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.closeOnRead(AbstractNioByteChannel.java:105)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-12 02:35:47,732 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7bcf85ba0f3c67740c4b', description='null'}-localhost:49172] Exception in monitor thread while connecting to server localhost:49172
com.mongodb.MongoSocketWriteException: Exception sending message
	at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)
	at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: io.netty.channel.StacklessClosedChannelException: null
	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)
2023-05-12 02:41:37,452 INFO com.poc.user.UserApplicationIntegrationTest [main] Starting UserApplicationIntegrationTest using Java 11.0.18 on ubuntu2004 with PID 376449 (started by ubuntu in /home/ubuntu/Desktop/poc-project/user-ms)
2023-05-12 02:41:37,454 DEBUG com.poc.user.UserApplicationIntegrationTest [main] Running with Spring Boot v2.7.6, Spring v5.3.24
2023-05-12 02:41:37,455 INFO com.poc.user.UserApplicationIntegrationTest [main] No active profile set, falling back to 1 default profile: "default"
2023-05-12 02:41:38,622 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2023-05-12 02:41:39,031 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 403 ms. Found 1 Reactive MongoDB repository interfaces.
2023-05-12 02:41:41,580 INFO org.mongodb.driver.client [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|reactive-streams|spring-boot", "version": "4.6.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "5.15.0-71-generic"}, "platform": "Java/Ubuntu/11.0.18+10-post-Ubuntu-0ubuntu122.04"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=NettyStreamFactoryFactory{eventLoopGroup=io.netty.channel.nio.NioEventLoopGroup@c262f2f, socketChannelClass=class io.netty.channel.socket.nio.NioSocketChannel, allocator=PooledByteBufAllocator(directByDefault: true), sslContext=null}, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@5563bb40]}, clusterSettings={hosts=[localhost:49174], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-05-12 02:41:41,755 INFO org.mongodb.driver.connection [cluster-ClusterId{value='645d7d3599e3a73f50188461', description='null'}-localhost:49174] Opened connection [connectionId{localValue:1, serverValue:3}] to localhost:49174
2023-05-12 02:41:41,760 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='645d7d3599e3a73f50188461', description='null'}-localhost:49174] Opened connection [connectionId{localValue:2, serverValue:4}] to localhost:49174
2023-05-12 02:41:41,761 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7d3599e3a73f50188461', description='null'}-localhost:49174] Monitor thread successfully connected to server with description ServerDescription{address=localhost:49174, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=85706244, setName='docker-rs', canonicalAddress=7fbb4084db86:27017, hosts=[7fbb4084db86:27017], passives=[], arbiters=[], primary='7fbb4084db86:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000001, setVersion=1, topologyVersion=TopologyVersion{processId=645d7d2e6f45f46bbb817ab9, counter=6}, lastWriteDate=Fri May 12 02:41:36 EEST 2023, lastUpdateTimeNanos=17905286367938}
2023-05-12 02:41:44,256 INFO org.springframework.boot.web.embedded.netty.NettyWebServer [main] Netty started on port 41899
2023-05-12 02:41:44,271 INFO com.poc.user.UserApplicationIntegrationTest [main] Started UserApplicationIntegrationTest in 7.536 seconds (JVM running for 14.049)
2023-05-12 02:41:44,884 INFO org.mongodb.driver.connection [nioEventLoopGroup-3-3] Opened connection [connectionId{localValue:3, serverValue:5}] to localhost:49174
2023-05-12 02:41:45,452 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Started method: com.poc.user.dao.impl.UserDAOImpl.save() with argument[s] = [UserInfo(username=testUser, email=test@test.com, firstname=testName, lastname=testLastName)]
2023-05-12 02:41:45,494 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Ended method: com.poc.user.dao.impl.UserDAOImpl.save() with result = MonoMap
2023-05-12 02:41:45,634 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7d3599e3a73f50188461', description='null'}-localhost:49174] Exception in monitor thread while connecting to server localhost:49174
com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:702)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: The connection to the server was closed
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:511)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:508)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.closeOnRead(AbstractNioByteChannel.java:105)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-12 02:41:45,655 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7d3599e3a73f50188461', description='null'}-localhost:49174] Exception in monitor thread while connecting to server localhost:49174
com.mongodb.MongoSocketWriteException: Exception sending message
	at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)
	at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: io.netty.channel.StacklessClosedChannelException: null
	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)
2023-05-12 02:42:45,145 INFO com.poc.user.UserApplicationIntegrationTest [main] Starting UserApplicationIntegrationTest using Java 11.0.18 on ubuntu2004 with PID 380697 (started by ubuntu in /home/ubuntu/Desktop/poc-project/user-ms)
2023-05-12 02:42:45,147 DEBUG com.poc.user.UserApplicationIntegrationTest [main] Running with Spring Boot v2.7.6, Spring v5.3.24
2023-05-12 02:42:45,148 INFO com.poc.user.UserApplicationIntegrationTest [main] No active profile set, falling back to 1 default profile: "default"
2023-05-12 02:42:45,770 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2023-05-12 02:42:45,991 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 215 ms. Found 1 Reactive MongoDB repository interfaces.
2023-05-12 02:42:47,205 INFO org.mongodb.driver.client [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|reactive-streams|spring-boot", "version": "4.6.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "5.15.0-71-generic"}, "platform": "Java/Ubuntu/11.0.18+10-post-Ubuntu-0ubuntu122.04"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=NettyStreamFactoryFactory{eventLoopGroup=io.netty.channel.nio.NioEventLoopGroup@14be750c, socketChannelClass=class io.netty.channel.socket.nio.NioSocketChannel, allocator=PooledByteBufAllocator(directByDefault: true), sslContext=null}, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@58882a93]}, clusterSettings={hosts=[localhost:49176], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-05-12 02:42:47,338 INFO org.mongodb.driver.connection [cluster-ClusterId{value='645d7d7755d603706e3562dc', description='null'}-localhost:49176] Opened connection [connectionId{localValue:1, serverValue:4}] to localhost:49176
2023-05-12 02:42:47,338 INFO org.mongodb.driver.connection [cluster-rtt-ClusterId{value='645d7d7755d603706e3562dc', description='null'}-localhost:49176] Opened connection [connectionId{localValue:2, serverValue:3}] to localhost:49176
2023-05-12 02:42:47,347 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7d7755d603706e3562dc', description='null'}-localhost:49176] Monitor thread successfully connected to server with description ServerDescription{address=localhost:49176, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=64809700, setName='docker-rs', canonicalAddress=9bb235e0a585:27017, hosts=[9bb235e0a585:27017], passives=[], arbiters=[], primary='9bb235e0a585:27017', tagSet=TagSet{[]}, electionId=7fffffff0000000000000001, setVersion=1, topologyVersion=TopologyVersion{processId=645d7d73488e1386b7b0703e, counter=6}, lastWriteDate=Fri May 12 02:42:44 EEST 2023, lastUpdateTimeNanos=17970870624257}
2023-05-12 02:42:49,517 INFO org.springframework.boot.web.embedded.netty.NettyWebServer [main] Netty started on port 38113
2023-05-12 02:42:49,530 INFO com.poc.user.UserApplicationIntegrationTest [main] Started UserApplicationIntegrationTest in 4.799 seconds (JVM running for 9.383)
2023-05-12 02:42:50,067 INFO org.mongodb.driver.connection [nioEventLoopGroup-3-3] Opened connection [connectionId{localValue:3, serverValue:5}] to localhost:49176
2023-05-12 02:42:50,700 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Started method: com.poc.user.dao.impl.UserDAOImpl.save() with argument[s] = [UserInfo(username=testUser, email=test@test.com, firstname=testName, lastname=testLastName)]
2023-05-12 02:42:50,748 DEBUG com.poc.user.aspect.LoggingAspect [reactor-http-epoll-4] Ended method: com.poc.user.dao.impl.UserDAOImpl.save() with result = MonoMap
2023-05-12 02:42:50,879 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7d7755d603706e3562dc', description='null'}-localhost:49176] Exception in monitor thread while connecting to server localhost:49176
com.mongodb.MongoSocketReadException: Exception receiving message
	at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:702)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:574)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:410)
	at com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:369)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:221)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: The connection to the server was closed
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:511)
	at com.mongodb.connection.netty.NettyStream$OpenChannelFutureListener$1.operationComplete(NettyStream.java:508)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)
	at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)
	at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:605)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1164)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:755)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:731)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:620)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.closeOnRead(AbstractNioByteChannel.java:105)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:174)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2023-05-12 02:42:50,892 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='645d7d7755d603706e3562dc', description='null'}-localhost:49176] Exception in monitor thread while connecting to server localhost:49176
com.mongodb.MongoSocketWriteException: Exception sending message
	at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)
	at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)
	at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)
	at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)
	at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)
	at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: io.netty.channel.StacklessClosedChannelException: null
	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)
